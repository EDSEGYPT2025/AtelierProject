@page
@model AtelierProject.Pages.Account.ChangePasswordModel
@{
    ViewData["Title"] = "تغيير كلمة المرور";
}

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

<style>
    :root {
        --royal-gold: #c5a059;
        --royal-gold-dark: #b08d4b;
        --royal-black: #1a1a1a;
    }

    /* الكارت الملكي */
    .royal-card {
        border: none;
        border-radius: 12px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        background: #fff;
        border-top: 5px solid var(--royal-gold);
    }

    .royal-header {
        background-color: var(--royal-black);
        padding: 20px;
        text-align: center;
    }

        .royal-header h4 {
            color: var(--royal-gold);
            font-family: 'Playfair Display', serif;
            margin: 0;
            letter-spacing: 1px;
        }

    /* الحقول */
    .form-control {
        border-radius: 8px;
        padding: 12px;
        border: 1px solid #e0e0e0;
    }

        .form-control:focus {
            border-color: var(--royal-gold);
            box-shadow: 0 0 0 4px rgba(197, 160, 89, 0.15);
        }

    /* الزر */
    .btn-royal {
        background: linear-gradient(135deg, var(--royal-gold), var(--royal-gold-dark));
        color: #fff;
        border: none;
        padding: 12px;
        font-weight: bold;
        border-radius: 8px;
        width: 100%;
        transition: all 0.3s;
    }

        .btn-royal:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(197, 160, 89, 0.4);
            color: #fff;
        }
</style>

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">

            @if (!string.IsNullOrEmpty(Model.StatusMessage))
            {
                <div class="alert alert-success border-0 shadow-sm mb-4 text-center">
                    <i class="fa fa-check-circle me-2"></i> @Model.StatusMessage
                </div>
            }

            <div class="card royal-card">
                <div class="card-header royal-header">
                    <h4><i class="fa-solid fa-key me-2"></i> تغيير كلمة المرور</h4>
                </div>
                <div class="card-body p-4">
                    <form method="post">
                        <div asp-validation-summary="ModelOnly" class="text-danger mb-3 small fw-bold text-center"></div>

                        <div class="mb-3">
                            <label asp-for="Input.OldPassword" class="form-label fw-bold small text-muted">كلمة المرور الحالية</label>
                            <input asp-for="Input.OldPassword" class="form-control" autocomplete="current-password" />
                            <span asp-validation-for="Input.OldPassword" class="text-danger small"></span>
                        </div>

                        <div class="mb-3">
                            <label asp-for="Input.NewPassword" class="form-label fw-bold small text-muted">كلمة المرور الجديدة</label>
                            <input asp-for="Input.NewPassword" class="form-control" autocomplete="new-password" />
                            <span asp-validation-for="Input.NewPassword" class="text-danger small"></span>
                        </div>

                        <div class="mb-4">
                            <label asp-for="Input.ConfirmPassword" class="form-label fw-bold small text-muted">تأكيد كلمة المرور الجديدة</label>
                            <input asp-for="Input.ConfirmPassword" class="form-control" autocomplete="new-password" />
                            <span asp-validation-for="Input.ConfirmPassword" class="text-danger small"></span>
                        </div>

                        <button type="submit" class="btn btn-royal">
                            تحديث كلمة المرور
                        </button>
                    </form>
                </div>
                <div class="card-footer bg-white text-center py-3 border-0">
                    <a asp-page="/Index" class="text-decoration-none text-muted small">
                        <i class="fa fa-arrow-right"></i> عودة للرئيسية
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}